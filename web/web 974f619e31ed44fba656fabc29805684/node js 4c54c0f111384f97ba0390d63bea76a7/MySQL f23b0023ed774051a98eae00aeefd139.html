<h1 id="mysql"><a class="anchor" href="#mysql">#</a> MySQL</h1>
<h2 id="基础"><a class="anchor" href="#基础">#</a> 基础</h2>
<h3 id="数据库基本概念"><a class="anchor" href="#数据库基本概念">#</a> 数据库基本概念</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled.png" alt="Untitled" /></p>
<h3 id="常见数据库"><a class="anchor" href="#常见数据库">#</a> 常见数据库</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%201.png" alt="Untitled" /></p>
<h3 id="数据组织结构"><a class="anchor" href="#数据组织结构">#</a> 数据组织结构</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%202.png" alt="Untitled" /></p>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%203.png" alt="Untitled" /></p>
<h3 id="了解主界面的组成部分"><a class="anchor" href="#了解主界面的组成部分">#</a> 了解主界面的组成部分</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%204.png" alt="Untitled" /></p>
<h2 id="安装并配置mysql"><a class="anchor" href="#安装并配置mysql">#</a> 安装并配置 MySQL</h2>
<h3 id="了解一下相关软件"><a class="anchor" href="#了解一下相关软件">#</a> 了解一下相关软件</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%205.png" alt="Untitled" /></p>
<h2 id="使用-mysql-workbench-管理数据库"><a class="anchor" href="#使用-mysql-workbench-管理数据库">#</a> 使用 MySQL Workbench 管理数据库</h2>
<h3 id="创建数据库"><a class="anchor" href="#创建数据库">#</a> 创建数据库</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%206.png" alt="Untitled" /></p>
<h3 id="创建数据表"><a class="anchor" href="#创建数据表">#</a> 创建数据表</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%207.png" alt="Untitled" /></p>
<h3 id="向表内写入数据"><a class="anchor" href="#向表内写入数据">#</a> 向表内写入数据</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%208.png" alt="Untitled" /></p>
<h2 id="使用sql管理数据库"><a class="anchor" href="#使用sql管理数据库">#</a> 使用 SQL 管理数据库</h2>
<h3 id="什么是sql"><a class="anchor" href="#什么是sql">#</a> 什么是 SQL</h3>
<p>SQL (英文全称：Structured Query Language) 是结构化查询语言，专门用来访问和处理数据库的编程语言。能够让<br />
我们以编程的形式，操作数据库里面的数据。</p>
<p>三个关键点：<br />
①SQL 是一门数据库编程语言<br />
②使用 SQL 语言编写出来的代码，叫做 SQL 语句<br />
③SQL 语言只能在关系型数据库中使用（例如 MySQL、Oracle、SQL Server)。非关系型数据库（例如 Mongodb) 不支持 SQL 语言</p>
<h3 id="select语句"><a class="anchor" href="#select语句">#</a> SELECT 语句</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%209.png" alt="Untitled" /></p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">-- 通过 * 把 users 表中所有的数据查询出来</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">-- select * from users</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">-- 从 users 表中把 username 和 password 对应的数据查询出来 alter</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">select</span> username<span class="token punctuation">,</span> password <span class="token keyword">from</span> users</pre></td></tr></table></figure><h3 id="insert-into-语句"><a class="anchor" href="#insert-into-语句">#</a> INSERT INTO 语句</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%2010.png" alt="Untitled" /></p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">insert</span> <span class="token keyword">into</span> users <span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'tony stark'</span><span class="token punctuation">,</span> <span class="token string">'098123'</span><span class="token punctuation">)</span></pre></td></tr></table></figure><h3 id="update-语句"><a class="anchor" href="#update-语句">#</a> UPDATE 语句</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%2011.png" alt="Untitled" /></p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">-- 将 id 为 4  的用户密码，更新成 888888</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">update</span> users <span class="token keyword">set</span> password<span class="token operator">=</span><span class="token string">'888888'</span> <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">4</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">-- 设置多行</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">update</span> users <span class="token keyword">set</span> password<span class="token operator">=</span><span class="token string">'admin123'</span><span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">2</span></pre></td></tr></table></figure><h3 id="delete-语句"><a class="anchor" href="#delete-语句">#</a> DELETE 语句</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%2012.png" alt="Untitled" /></p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">-- 注意：对初学者来说，经常忘记提供 WHERE 条件，</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">--       从而导致误删整张表的数据，一定要慎重！</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">delete</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="where-子句"><a class="anchor" href="#where-子句">#</a> WHERE 子句</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%2013.png" alt="Untitled" /></p>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%2014.png" alt="Untitled" /></p>
<h3 id="and-和-or-运算符"><a class="anchor" href="#and-和-or-运算符">#</a> AND 和 OR 运算符</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%2015.png" alt="Untitled" /></p>
<h3 id="order-by-子句"><a class="anchor" href="#order-by-子句">#</a> ORDER BY 子句</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%2016.png" alt="Untitled" /></p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">order</span> <span class="token keyword">by</span> id <span class="token keyword">desc</span></pre></td></tr></table></figure><p>多重排序</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">-- 先按照状态降序排序，再按照用户名升序排序</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token keyword">status</span> <span class="token keyword">desc</span><span class="token punctuation">,</span> username <span class="token keyword">asc</span></pre></td></tr></table></figure><h3 id="count函数"><a class="anchor" href="#count函数">#</a> COUNT (*) 函数</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%2017.png" alt="Untitled" /></p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">-- 使用 count (*) 来统计 users 表中，状态为 0 用户的总数量</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> <span class="token keyword">status</span><span class="token operator">=</span><span class="token number">0</span></pre></td></tr></table></figure><h3 id="as"><a class="anchor" href="#as">#</a> AS</h3>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">-- 使用 AS 关键字给列起别名</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">select</span> username <span class="token keyword">as</span> uname<span class="token punctuation">,</span> password <span class="token keyword">as</span> upwd <span class="token keyword">from</span> users</pre></td></tr></table></figure><h2 id="在项目中操作数据库的步骤"><a class="anchor" href="#在项目中操作数据库的步骤">#</a> 在项目中操作数据库的步骤</h2>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%2018.png" alt="Untitled" /></p>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%2019.png" alt="Untitled" /></p>
<h3 id="配置mysql模块"><a class="anchor" href="#配置mysql模块">#</a> 配置 mysql 模块</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%2020.png" alt="Untitled" /></p>
<h3 id="测试能否正常工作"><a class="anchor" href="#测试能否正常工作">#</a> 测试能否正常工作</h3>
<figure class="highlight jsx"><figcaption data-lang="React JSX"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> mysql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> db <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createPool</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> <span class="token comment">// 数据库的 IP 地址</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span> <span class="token comment">// 登录数据库的账号</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'onlylove245'</span><span class="token punctuation">,</span> <span class="token comment">// 登录数据库的密码</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token literal-property property">database</span><span class="token operator">:</span> <span class="token string">'my_db_01'</span><span class="token punctuation">,</span> <span class="token comment">// 指定要操作哪个数据库</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 测试 mysql 模块能否正常工作</span></pre></td></tr><tr><td data-num="15"></td><td><pre>db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">'select 1'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> results</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token comment">//mysql 模块工作期间报错了</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token comment">// 能够成功的执行 SQL 语句</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure><h3 id="查询数据"><a class="anchor" href="#查询数据">#</a> 查询数据</h3>
<figure class="highlight jsx"><figcaption data-lang="React JSX"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 查询 users 表中所有的数据</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> sqlStr <span class="token operator">=</span> <span class="token string">'select * from users'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sqlStr<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> results</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">// 查询成功</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token comment">// 如果执行的是 select 查询语句，results 的结果是数组</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure><h3 id="插入数据"><a class="anchor" href="#插入数据">#</a> 插入数据</h3>
<figure class="highlight jsx"><figcaption data-lang="React JSX"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 插入</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'Spider-Man'</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'pcc123'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 定义待执行的 SQL 语句</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 问号是占位符</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">const</span> sqlStr <span class="token operator">=</span> <span class="token string">'insert into users (username, password) values (?,?)'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sqlStr<span class="token punctuation">,</span> <span class="token punctuation">[</span>user<span class="token punctuation">.</span>username<span class="token punctuation">,</span> user<span class="token punctuation">.</span>password<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> results</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token comment">// 成功</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>results<span class="token punctuation">.</span>affectedRows <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'插入数据成功！'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%2021.png" alt="Untitled" /></p>
<h3 id="更新"><a class="anchor" href="#更新">#</a> 更新</h3>
<figure class="highlight jsx"><figcaption data-lang="React JSX"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 更新</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'aaa'</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'000'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> sql <span class="token operator">=</span> <span class="token string">'update users set username=?, password=? where id=?'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token punctuation">[</span>user<span class="token punctuation">.</span>username<span class="token punctuation">,</span> user<span class="token punctuation">.</span>password<span class="token punctuation">,</span> user<span class="token punctuation">.</span>id<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> results</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>results<span class="token punctuation">.</span>affectedRows <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'更新成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%2022.png" alt="Untitled" /></p>
<h3 id="删除"><a class="anchor" href="#删除">#</a> 删除</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%2023.png" alt="Untitled" /></p>
<h3 id="标记删除"><a class="anchor" href="#标记删除">#</a> 标记删除</h3>
<p><img src="MySQL%20f23b0023ed774051a98eae00aeefd139/Untitled%2024.png" alt="Untitled" /></p>
